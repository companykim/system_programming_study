# chapter 12 소켓 프로그래밍 기초

TCP/IP 프로토콜은 계층구조로 구성되어 있으며, 5개 계층으로 이루어져 있다.

응용 계층: 사용자에게 서비스를 제공하기 위한 계층이다. 응용 계층의 대표적인 프로토콜은 Telnet, FTP, HTTP, SMTP, DNS 등이다.

전송 계층: 패킷의 전송을 담당하는 계층이다. 전송 계층의 대표적인 프로토콜에는 TCP와 UDP가 있다.

네트워크 계층: 인터넷 계층이라고도 하며 패킷이 전달되는 경로를 담당한다. TCP/IP에서 IP가 네트워크 계층에 속한다. IP 외에 ICMP, ARP 등이 있다.

네트워크 접속 계층, 하드웨어 계층: 물리적인 네트워크와의 연결을 담당한다. 일반적으로 이더넷 카드나 랜 카드라고 하는 부분이 이 계층에 해당한다.

TCP와 UDP의 차이점
| TCP | UDP |
| :--: | :--: |
| 연결지향형 | 비연결형 |
| 신뢰성 보장 | 신뢰성을 보장하지 않음 |
| 흐름 제어 기능 제공 | 흐름 제어 기능 없음 |
| 순서 보장 | 순서를 보장하지 않음 |

TCP
전화를 걸 때처럼 데이터를 주고 받기 전에 송신측과 수신측이 연결되어 있어야 한다. 그리고 송신한 데이터가 </br>
수신측에 도착했는지 확인하는 과정을 거친다. </br>
또한, 데이터를 주고 받는 속도를 조절해 통신 효율이 떨어지거나 데이터가 손실되는 일을 방지할 수도 있다.

UDP
TCP와 달리 사전에 목적지와 연결을 설정하지 않고 상대방이 데이터를 제대로 수신했는지도 확인하지 않는다. 단순히 목적지 주소로 지정해 네트워크로 전송하는 것이다. </br>
중도에 데이터가 분실되어도 신경 쓰지 않는다. 따라서 신뢰성보다는 속도가 중요한 서비스에 주로 이용한다.

TCP/IP 프로토콜을 이용해 데이터를 주고 받으려면 주소가 있어야 한다. 일반 우편으로 편지를 보낼 때 주소를 적는 것과 마찬가지다. </br>
TCP/IP 프로토콜에서 주소 관련 프로토콜은 IP다.
TCP/IP 프로토콜을 이용하는 네트워크에서 주소는 IP 주소를 의미하며 IPv4에서는 점(.)으로 구분된 4바이트 정수로 표시한다.

IP 주소는 데이터가 전송될 목적지 호스트를 알려주는 역할을 한다. 그러나 목적지 호스트에는 여러 기능을 수행하는 프로세스들이 동시에 동작하고 있을 수 있다. </br>
따라서 전송되어오는 데이터를 어느 프로세스가 수신해 서비스를 제공할 것인지를 알려줘야 한다. 이때 사용하는 것이 포트 번호이다.
